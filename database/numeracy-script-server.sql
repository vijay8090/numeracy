-- MySQL Script generated by MySQL Workbench
-- 08/11/15 12:41:55
-- Model: New Model    Version: 1.0
SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema NUMERACY
-- -----------------------------------------------------
-- NUMERACY DATABASE

-- -----------------------------------------------------
-- Table `M01_USER`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `M01_USER` ;

CREATE TABLE IF NOT EXISTS `M01_USER` (
  `M01USERID` INT NOT NULL AUTO_INCREMENT COMMENT 'SEQUENCE ID - AUTO INCREMENT',
  `USERID` VARCHAR(45) NULL,
  `PASSWORD` VARCHAR(250) NOT NULL COMMENT 'ENCRYPTED PASSWORD',
  `FIRSTNAME` VARCHAR(45) NULL,
  `LASTNAME` VARCHAR(45) NULL,
  `MIDDLENAME` VARCHAR(45) NULL,
  `NICKNAME` VARCHAR(45) NULL,
  `GENDER` CHAR(1) NULL,
  `DOB` VARCHAR(12) NULL,
  `COUNTRYCODE` INT NULL,
  `STDCODE` INT NULL,
  `PHONE` INT NULL COMMENT 'LAND LINE',
  `MOBILE` INT NULL,
  `EMAIL1` VARCHAR(100) NOT NULL,
  `EMAIL2` VARCHAR(45) NULL,
  `STATUS` INT NULL COMMENT 'LINKS TO STATUS CODE TABLE',
  `CREATEDON` DATETIME NULL,
  `MODIFIEDON` DATETIME NULL,
  PRIMARY KEY (`M01USERID`))
ENGINE = InnoDB
COMMENT = '			';


-- -----------------------------------------------------
-- Table `M11_STATUS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `M11_STATUS` ;

CREATE TABLE IF NOT EXISTS `M11_STATUS` (
  `M11STATUSID` INT NOT NULL AUTO_INCREMENT,
  `CODE` VARCHAR(20) NOT NULL COMMENT 'Example :  status code for user are  unregistered, active, inactive,',
  `LABEL` VARCHAR(100) NOT NULL,
  `CREATEDON` DATETIME NULL,
  `CREATEBY` VARCHAR(45) NULL DEFAULT 'ADMIN',
  `MODIFIEDON` DATETIME NULL,
  `MODIFIEDBY` VARCHAR(45) NULL,
  PRIMARY KEY (`M11STATUSID`),
  UNIQUE INDEX `CODE_UNIQUE` (`CODE` ASC),
  UNIQUE INDEX `M11STATUSID_UNIQUE` (`M11STATUSID` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `M02_CATEGORY`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `M02_CATEGORY` ;

CREATE TABLE IF NOT EXISTS `M02_CATEGORY` (
  `M02CATEGORYID` INT NOT NULL AUTO_INCREMENT,
  `LABEL` VARCHAR(100) NOT NULL,
  `M11STATUSID` INT NULL,
  `STARTAGE` INT NULL COMMENT 'START AGE OF THE CATEGORY',
  `ENDAGE` INT NULL COMMENT 'END AGE OF THE CATEGORY',
  `GENDER` CHAR(1) NULL,
  `CREATEDON` DATETIME NULL,
  `CREATEDBY` VARCHAR(45) NULL DEFAULT 'ADMIN',
  `MODIFIEDON` DATETIME NULL,
  `MODIFIEDBY` VARCHAR(45) NULL,
  PRIMARY KEY (`M02CATEGORYID`),
  UNIQUE INDEX `LABEL_UNIQUE` (`LABEL` ASC),
  UNIQUE INDEX `M02CATEGORYID_UNIQUE` (`M02CATEGORYID` ASC),
  INDEX `FK_M02_M11STATUSID_idx` (`M11STATUSID` ASC),
  CONSTRAINT `FK_M02_M11STATUSID`
    FOREIGN KEY (`M11STATUSID`)
    REFERENCES `M11_STATUS` (`M11STATUSID`)
    ON DELETE RESTRICT
    ON UPDATE RESTRICT)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `M04_CHAPTER`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `M04_CHAPTER` ;

CREATE TABLE IF NOT EXISTS `M04_CHAPTER` (
  `M04CHAPTERID` INT NOT NULL AUTO_INCREMENT,
  `CHAPTERNAME` VARCHAR(150) NOT NULL COMMENT 'Chapter Name',
  `CHAPTERNUMBER` INT NULL,
  `M11STATUSID` INT NULL,
  `DESCRIPTION` VARCHAR(1000) NULL COMMENT 'Chapter description',
  `SHORTDESC` VARCHAR(150) NULL COMMENT 'Short Description',
  `CREATEDON` DATETIME NULL,
  `CREATEDBY` VARCHAR(50) NULL DEFAULT 'ADMIN',
  `MODIFIEDON` DATETIME NULL,
  `MODIFIEDBY` VARCHAR(45) NULL DEFAULT 'ADMIN',
  PRIMARY KEY (`M04CHAPTERID`),
  INDEX `FK_M04_M11STATUSID_idx` (`M11STATUSID` ASC),
  CONSTRAINT `FK_M04_M11STATUSID`
    FOREIGN KEY (`M11STATUSID`)
    REFERENCES `M11_STATUS` (`M11STATUSID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
COMMENT = '	';


-- -----------------------------------------------------
-- Table `M05_LESSON`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `M05_LESSON` ;

CREATE TABLE IF NOT EXISTS `M05_LESSON` (
  `M05LESSONID` INT NOT NULL AUTO_INCREMENT,
  `TITLE` VARCHAR(250) NOT NULL COMMENT 'TITLE OF THE LESSON',
  `LONGDESC` VARCHAR(1000) NULL,
  `SHORTDESC` VARCHAR(250) NULL,
  `ADDITIONALINFO` VARCHAR(500) NULL,
  `CREATEDON` DATETIME NULL,
  `CREATEDBY` VARCHAR(45) NULL DEFAULT 'ADMIN',
  `MODIFIEDON` DATETIME NULL,
  `MODIFIEDBY` VARCHAR(45) NULL DEFAULT 'ADMIN',
  PRIMARY KEY (`M05LESSONID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `M09_MESSAGE`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `M09_MESSAGE` ;

CREATE TABLE IF NOT EXISTS `M09_MESSAGE` (
  `M09MESSAGEID` INT NOT NULL AUTO_INCREMENT,
  `MSGCODE` VARCHAR(15) NULL COMMENT 'EXAMPLE : LE0001' /* comment truncated */ /*IO0002
*/,
  `MSGTXT` VARCHAR(500) NULL,
  `CREATEDON` DATETIME NULL,
  `MODIFIEDON` DATETIME NULL,
  `CREATEDBY` VARCHAR(45) NULL,
  `MODIFIEDBY` VARCHAR(45) NULL,
  PRIMARY KEY (`M09MESSAGEID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `M07_ADDRESS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `M07_ADDRESS` ;

CREATE TABLE IF NOT EXISTS `M07_ADDRESS` (
  `M07ADDRESSID` INT NOT NULL AUTO_INCREMENT,
  `ADDRESSTYPE` VARCHAR(45) NOT NULL,
  `CODE` VARCHAR(45) NOT NULL,
  `CREATEDBY` VARCHAR(45) NULL,
  `MODIFIEDBY` VARCHAR(45) NULL,
  `CREATEDON` DATETIME NULL,
  `MODIFIEDON` DATETIME NULL,
  PRIMARY KEY (`M07ADDRESSID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `M08_MENU`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `M08_MENU` ;

CREATE TABLE IF NOT EXISTS `M08_MENU` (
  `M08MENUID` INT NOT NULL AUTO_INCREMENT,
  `LABEL` VARCHAR(250) NULL COMMENT 'DISPLAY LABLE OF THE MENU',
  `PARENTID` INT NULL COMMENT 'PARENT ID OF THE MENU, FOR TOP LEVEL MENUS INSERT 0',
  `URL` VARCHAR(500) NULL COMMENT 'EXTERNAL URL LINKS',
  `ICON` VARCHAR(250) NULL COMMENT 'MENU ICON PHYSICAL PATH',
  `DESCRIPTION` VARCHAR(250) NULL,
  `VISIBLE` TINYINT(1) NULL,
  `CREATEDON` DATETIME NULL,
  `MODIFIEDON` DATETIME NULL,
  `CREATEDBY` VARCHAR(45) NULL,
  `MODIFIEDBY` VARCHAR(45) NULL,
  PRIMARY KEY (`M08MENUID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `M03_LEVEL`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `M03_LEVEL` ;

CREATE TABLE IF NOT EXISTS `M03_LEVEL` (
  `M03LEVELID` INT NOT NULL AUTO_INCREMENT,
  `LABEL` VARCHAR(100) NOT NULL,
  `M11STATUSID` INT NULL,
  `CREATEDON` DATETIME NULL,
  `CREATEDBY` VARCHAR(45) NULL DEFAULT 'ADMIN',
  `MODIFIEDON` DATETIME NULL,
  `MODIFIEDBY` VARCHAR(45) NULL,
  PRIMARY KEY (`M03LEVELID`),
  UNIQUE INDEX `M03LEVELID_UNIQUE` (`M03LEVELID` ASC),
  UNIQUE INDEX `LABEL_UNIQUE` (`LABEL` ASC),
  INDEX `FK_M03_M11STATUSID_idx` (`M11STATUSID` ASC),
  CONSTRAINT `FK_M03_M11STATUSID`
    FOREIGN KEY (`M11STATUSID`)
    REFERENCES `M11_STATUS` (`M11STATUSID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `T01_CATEGORY_LEVEL`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `T01_CATEGORY_LEVEL` ;

CREATE TABLE IF NOT EXISTS `T01_CATEGORY_LEVEL` (
  `T01CATEGORYLEVELID` INT NOT NULL AUTO_INCREMENT,
  `M02CATEGORYID` INT NULL,
  `M03LEVELID` INT NULL,
  `LONGDESC` VARCHAR(500) NULL,
  `SHORTDESC` VARCHAR(150) NULL,
  `CREATEDON` DATETIME NULL,
  `CREATEDBY` VARCHAR(45) NULL,
  `MODIFIEDBY` VARCHAR(45) NULL,
  `MODIFIEDON` DATETIME NULL,
  PRIMARY KEY (`T01CATEGORYLEVELID`),
  INDEX `FK_CAT_ID_idx` (`M02CATEGORYID` ASC),
  INDEX `FK_LEV_ID_idx` (`M03LEVELID` ASC),
  CONSTRAINT `FK_M02CATEGORYID`
    FOREIGN KEY (`M02CATEGORYID`)
    REFERENCES `M02_CATEGORY` (`M02CATEGORYID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_M03LEVELID`
    FOREIGN KEY (`M03LEVELID`)
    REFERENCES `M03_LEVEL` (`M03LEVELID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `T02_USER_CATEGORY`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `T02_USER_CATEGORY` ;

CREATE TABLE IF NOT EXISTS `T02_USER_CATEGORY` (
  `T02USERCATEGORYID` INT NOT NULL AUTO_INCREMENT,
  `M01USERID` INT NULL,
  `M02CATEGORYID` INT NULL,
  `CREATEDON` DATETIME NULL,
  `MODIFIEDON` DATETIME NULL,
  PRIMARY KEY (`T02USERCATEGORYID`),
  INDEX `FK_T02_UID_idx` (`M01USERID` ASC),
  INDEX `FK_T02_CID_idx` (`M02CATEGORYID` ASC),
  CONSTRAINT `FK_T02_M01USERID`
    FOREIGN KEY (`M01USERID`)
    REFERENCES `M01_USER` (`M01USERID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_T02_M02CATEGORYID`
    FOREIGN KEY (`M02CATEGORYID`)
    REFERENCES `M02_CATEGORY` (`M02CATEGORYID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `T03_USER_CAT_LEVEL`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `T03_USER_CAT_LEVEL` ;

CREATE TABLE IF NOT EXISTS `T03_USER_CAT_LEVEL` (
  `T03USERCATEGORYLEVELID` INT NOT NULL AUTO_INCREMENT,
  `T02USERCATEGORYID` INT NULL COMMENT 'USER CATEGORY TABLE ID',
  `T01CATEGORYLEVELID` INT NULL COMMENT 'CATEGORY LEVEL TABLE ID',
  `CREATEDON` DATETIME NULL,
  `MODIFIEDON` DATETIME NULL,
  `FAVORITE` TINYINT(1) NULL,
  `SKIPPED` TINYINT(1) NULL,
  PRIMARY KEY (`T03USERCATEGORYLEVELID`),
  INDEX `FK_T03_CL_ID_idx` (`T01CATEGORYLEVELID` ASC),
  INDEX `FK_T03_UCID_idx` (`T02USERCATEGORYID` ASC),
  CONSTRAINT `FK_T03_T02USERCATEGORYID`
    FOREIGN KEY (`T02USERCATEGORYID`)
    REFERENCES `T02_USER_CATEGORY` (`T02USERCATEGORYID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_T03_T01CATEGORYLEVELID`
    FOREIGN KEY (`T01CATEGORYLEVELID`)
    REFERENCES `T01_CATEGORY_LEVEL` (`T01CATEGORYLEVELID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `T04_CAT_LEV_CHAP`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `T04_CAT_LEV_CHAP` ;

CREATE TABLE IF NOT EXISTS `T04_CAT_LEV_CHAP` (
  `T04CATEGORYLEVELCHAPID` INT NOT NULL AUTO_INCREMENT,
  `T01CATEGORYLEVELID` INT NULL,
  `M04CHAPTERID` INT NULL,
  `CREATEDON` DATETIME NULL,
  `MODIFIEDON` DATETIME NULL,
  PRIMARY KEY (`T04CATEGORYLEVELCHAPID`),
  INDEX `FK_T04_CLID_idx` (`T01CATEGORYLEVELID` ASC),
  INDEX `FK_T04_CHAPID_idx` (`M04CHAPTERID` ASC),
  CONSTRAINT `FK_T04_T01CATEGORYLEVELID`
    FOREIGN KEY (`T01CATEGORYLEVELID`)
    REFERENCES `T01_CATEGORY_LEVEL` (`T01CATEGORYLEVELID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_T04_M04CHAPTERID`
    FOREIGN KEY (`M04CHAPTERID`)
    REFERENCES `M04_CHAPTER` (`M04CHAPTERID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `T05_CAT_LEV_CHAP_LESS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `T05_CAT_LEV_CHAP_LESS` ;

CREATE TABLE IF NOT EXISTS `T05_CAT_LEV_CHAP_LESS` (
  `T05CATEGORYLEVECHAPLESSLID` INT NOT NULL AUTO_INCREMENT,
  `T04CATEGORYLEVELCHAPID` INT NULL,
  `M05LESSONID` INT NULL,
  `CREATEDON` DATETIME NULL,
  `CREATEDBY` VARCHAR(45) NULL,
  `MODIFIEDON` DATETIME NULL,
  `MODIFIEDBY` VARCHAR(45) NULL,
  PRIMARY KEY (`T05CATEGORYLEVECHAPLESSLID`),
  INDEX `FK_T05_CLCID_idx` (`T04CATEGORYLEVELCHAPID` ASC),
  INDEX `FK_T05_LID_idx` (`M05LESSONID` ASC),
  CONSTRAINT `FK_T05_T04CATEGORYLEVELCHAPID`
    FOREIGN KEY (`T04CATEGORYLEVELCHAPID`)
    REFERENCES `T04_CAT_LEV_CHAP` (`T04CATEGORYLEVELCHAPID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_T05_M05LESSONID`
    FOREIGN KEY (`M05LESSONID`)
    REFERENCES `M05_LESSON` (`M05LESSONID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `T06_USER_CAT_LEVEL_CHAP`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `T06_USER_CAT_LEVEL_CHAP` ;

CREATE TABLE IF NOT EXISTS `T06_USER_CAT_LEVEL_CHAP` (
  `T06USERCATEGORYLEVELCHAPID` INT NOT NULL AUTO_INCREMENT,
  `T03USERCATEGORYLEVELID` INT NULL COMMENT 'USER CATEGORY LEVEL ID',
  `T04CATEGORYLEVELCHAPID` INT NULL COMMENT 'CATEGORY LEVEL CHAPTER ID',
  `CREATED ON` DATETIME NULL,
  `MODIFIED ON` DATETIME NULL,
  `FAVORITE` TINYINT(1) NULL,
  `SKIPPED` TINYINT(1) NULL,
  PRIMARY KEY (`T06USERCATEGORYLEVELCHAPID`),
  INDEX `FK_T06_UCLID_idx` (`T03USERCATEGORYLEVELID` ASC),
  INDEX `FK_T06_CLCID_idx` (`T04CATEGORYLEVELCHAPID` ASC),
  CONSTRAINT `FK_T06_T03USERCATEGORYLEVELID`
    FOREIGN KEY (`T03USERCATEGORYLEVELID`)
    REFERENCES `T03_USER_CAT_LEVEL` (`T03USERCATEGORYLEVELID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_T06_T04CATEGORYLEVELCHAPID`
    FOREIGN KEY (`T04CATEGORYLEVELCHAPID`)
    REFERENCES `T04_CAT_LEV_CHAP` (`T04CATEGORYLEVELCHAPID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `T07_USER_CAT_LEV_CHAP_LESS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `T07_USER_CAT_LEV_CHAP_LESS` ;

CREATE TABLE IF NOT EXISTS `T07_USER_CAT_LEV_CHAP_LESS` (
  `T07USERCATEGORYLEVELCHAPLESSID` INT NOT NULL AUTO_INCREMENT,
  `T06USERCATEGORYLEVELCHAPID` INT NULL COMMENT 'T06 USER CAT LEVEL CHAP ID',
  `T05CATEGORYLEVECHAPLESSLID` INT NULL COMMENT 'T05 CAT LEV CHAP LESS ID',
  `FAVORITE` TINYINT(1) NULL,
  `SKIPPED` TINYINT(1) NULL,
  `CREATEDON` DATETIME NULL,
  `MODIFIEDON` DATETIME NULL,
  PRIMARY KEY (`T07USERCATEGORYLEVELCHAPLESSID`),
  INDEX `FK_T07_UCLCID_idx` (`T06USERCATEGORYLEVELCHAPID` ASC),
  INDEX `FK_T07_CLCLID_idx` (`T05CATEGORYLEVECHAPLESSLID` ASC),
  CONSTRAINT `FK_T07_T06USERCATEGORYLEVELCHAPID`
    FOREIGN KEY (`T06USERCATEGORYLEVELCHAPID`)
    REFERENCES `T06_USER_CAT_LEVEL_CHAP` (`T06USERCATEGORYLEVELCHAPID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_T07_T05CATEGORYLEVECHAPLESSLID`
    FOREIGN KEY (`T05CATEGORYLEVECHAPLESSLID`)
    REFERENCES `T05_CAT_LEV_CHAP_LESS` (`T05CATEGORYLEVECHAPLESSLID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `M10_FILE_TYPE`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `M10_FILE_TYPE` ;

CREATE TABLE IF NOT EXISTS `M10_FILE_TYPE` (
  `M10TYPEID` INT NOT NULL AUTO_INCREMENT,
  `LABLE` VARCHAR(150) NULL COMMENT 'EXAMPLE :  IMAGE, AUDIO,VIDEO ETC',
  `CREATEDON` DATETIME NULL,
  `CREATEDBY` VARCHAR(45) NULL,
  `MODIFIEDON` DATETIME NULL,
  `MODIFIEDBY` VARCHAR(45) NULL,
  PRIMARY KEY (`M10TYPEID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `M06_FILE`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `M06_FILE` ;

CREATE TABLE IF NOT EXISTS `M06_FILE` (
  `M06FILEID` INT NOT NULL AUTO_INCREMENT,
  `FILENAME` VARCHAR(200) NOT NULL,
  `M10TYPEID` INT NULL,
  `EXTENSION` VARCHAR(10) NULL,
  `FILESIZE` VARCHAR(45) NULL,
  `URL` VARCHAR(250) NULL,
  `FILEPATH` VARCHAR(250) NULL,
  `TAGS` VARCHAR(200) NULL,
  `CREATEDON` DATETIME NULL,
  `CREATEDBY` VARCHAR(45) NULL DEFAULT 'ADMIN',
  `MODIFIEDON` DATETIME NULL,
  `MODIFIEDBY` VARCHAR(45) NULL,
  PRIMARY KEY (`M06FILEID`),
  INDEX `FK_M10TYPEID_idx` (`M10TYPEID` ASC),
  CONSTRAINT `FK_M10TYPEID`
    FOREIGN KEY (`M10TYPEID`)
    REFERENCES `M10_FILE_TYPE` (`M10TYPEID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `T10_USER_ADDRESS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `T10_USER_ADDRESS` ;

CREATE TABLE IF NOT EXISTS `T10_USER_ADDRESS` (
  `T10USERADDRESSID` INT NOT NULL AUTO_INCREMENT,
  `M01USERID` INT NULL,
  `M07ADDRESSID` INT NULL,
  `ADDRESS1` VARCHAR(150) NULL,
  `ADDRESS2` VARCHAR(150) NULL,
  `ADDRESS3` VARCHAR(150) NULL,
  `CREATEDON` DATETIME NULL,
  `MODIFIEDON` DATETIME NULL,
  PRIMARY KEY (`T10USERADDRESSID`),
  INDEX `FK_T10_UID_idx` (`M01USERID` ASC),
  INDEX `FK_T10_AID_idx` (`M07ADDRESSID` ASC),
  CONSTRAINT `FK_T10_M01USERID`
    FOREIGN KEY (`M01USERID`)
    REFERENCES `M01_USER` (`M01USERID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_T10_M07ADDRESSID`
    FOREIGN KEY (`M07ADDRESSID`)
    REFERENCES `M07_ADDRESS` (`M07ADDRESSID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `T08_LESS_FILE`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `T08_LESS_FILE` ;

CREATE TABLE IF NOT EXISTS `T08_LESS_FILE` (
  `T08LESSFILEID` INT NOT NULL AUTO_INCREMENT,
  `M05LESSONID` INT NULL,
  `M06FILEID` INT NULL,
  `CREATEDON` DATETIME NULL,
  `CREATEDBY` VARCHAR(45) NULL,
  `MODIFIEDON` DATETIME NULL,
  `MODIFIEDBY` VARCHAR(45) NULL,
  PRIMARY KEY (`T08LESSFILEID`),
  INDEX `FK_T08_LID_idx` (`M05LESSONID` ASC),
  INDEX `FK_T08_FID_idx` (`M06FILEID` ASC),
  CONSTRAINT `FK_T08_M05LESSONID`
    FOREIGN KEY (`M05LESSONID`)
    REFERENCES `M05_LESSON` (`M05LESSONID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_T08_M06FILEID`
    FOREIGN KEY (`M06FILEID`)
    REFERENCES `M06_FILE` (`M06FILEID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `T09_USER_PROGRESS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `T09_USER_PROGRESS` ;

CREATE TABLE IF NOT EXISTS `T09_USER_PROGRESS` (
  `T09USERPROGRESSID` INT NOT NULL AUTO_INCREMENT,
  `M01USERID` INT NOT NULL COMMENT 'USER ID',
  `T02USERCATEGORYID` INT NULL,
  `T03USERCATEGORYLEVELID` INT NULL,
  `T06USERCATEGORYLEVELCHAPID` INT NULL,
  `T07USERCATEGORYLEVELCHAPLESSID` INT NULL,
  PRIMARY KEY (`T09USERPROGRESSID`),
  INDEX `FK09_M01USERID_idx` (`M01USERID` ASC),
  INDEX `FK09_T02USERCATEGORYID_idx` (`T02USERCATEGORYID` ASC),
  INDEX `FK09_T03USERCATEGORYLEVELID_idx` (`T03USERCATEGORYLEVELID` ASC),
  INDEX `FK09_T06USERCATEGORYLEVELCHAPID_idx` (`T06USERCATEGORYLEVELCHAPID` ASC),
  INDEX `FK09_T07USERCATEGORYLEVELCHAPLESSID_idx` (`T07USERCATEGORYLEVELCHAPLESSID` ASC),
  CONSTRAINT `FK09_M01USERID`
    FOREIGN KEY (`M01USERID`)
    REFERENCES `M01_USER` (`M01USERID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK09_T02USERCATEGORYID`
    FOREIGN KEY (`T02USERCATEGORYID`)
    REFERENCES `T02_USER_CATEGORY` (`T02USERCATEGORYID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK09_T03USERCATEGORYLEVELID`
    FOREIGN KEY (`T03USERCATEGORYLEVELID`)
    REFERENCES `T03_USER_CAT_LEVEL` (`T03USERCATEGORYLEVELID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK09_T06USERCATEGORYLEVELCHAPID`
    FOREIGN KEY (`T06USERCATEGORYLEVELCHAPID`)
    REFERENCES `T06_USER_CAT_LEVEL_CHAP` (`T06USERCATEGORYLEVELCHAPID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK09_T07USERCATEGORYLEVELCHAPLESSID`
    FOREIGN KEY (`T07USERCATEGORYLEVELCHAPLESSID`)
    REFERENCES `T07_USER_CAT_LEV_CHAP_LESS` (`T07USERCATEGORYLEVELCHAPLESSID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `T11_USER_SETTINGS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `T11_USER_SETTINGS` ;

CREATE TABLE IF NOT EXISTS `T11_USER_SETTINGS` (
  `T11USERSETTINGSID` INT NOT NULL AUTO_INCREMENT,
  `M01USERID` INT NULL,
  `STATUSMSG` VARCHAR(150) NULL,
  PRIMARY KEY (`T11USERSETTINGSID`),
  INDEX `FK_M01USERID_idx` (`M01USERID` ASC),
  CONSTRAINT `FK_T11_M01USERID`
    FOREIGN KEY (`M01USERID`)
    REFERENCES `M01_USER` (`M01USERID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `T12_USER_SESSION`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `T12_USER_SESSION` ;

CREATE TABLE IF NOT EXISTS `T12_USER_SESSION` (
  `T12USERSESSIONSID` INT NOT NULL AUTO_INCREMENT,
  `M01USERID` INT NULL,
  `IPADDRESS` VARCHAR(45) NULL,
  `LOCATION` VARCHAR(100) NULL,
  `BROWSER` VARCHAR(100) NULL,
  `DEVICE` VARCHAR(100) NULL,
  `MOBILEOPERATOR` VARCHAR(100) NULL,
  `LOGINTIME` DATETIME NULL,
  PRIMARY KEY (`T12USERSESSIONSID`),
  INDEX `FK_T12_M01USERID_idx` (`M01USERID` ASC),
  CONSTRAINT `FK_T12_M01USERID`
    FOREIGN KEY (`M01USERID`)
    REFERENCES `M01_USER` (`M01USERID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `T13_ACTIVATION_CODE`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `T13_ACTIVATION_CODE` ;

CREATE TABLE IF NOT EXISTS `T13_ACTIVATION_CODE` (
  `T13ACTIVATIONCODEID` INT NOT NULL AUTO_INCREMENT,
  `CODE` VARCHAR(50) NULL,
  `EMAIL` VARCHAR(100) NULL,
  `MOBILE` VARCHAR(15) NULL,
  `CODESENTON` DATETIME NULL,
  `STATUS` VARCHAR(45) NULL,
  `CREATEDON` DATETIME NULL,
  `CODESENTTO` VARCHAR(150) NULL COMMENT 'CODE SENT TO MOBILE AND/OR EMAIL',
  PRIMARY KEY (`T13ACTIVATIONCODEID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `T14_CATEGORY_FILE`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `T14_CATEGORY_FILE` ;

CREATE TABLE IF NOT EXISTS `T14_CATEGORY_FILE` (
  `T14CATEGORYFILEID` INT NOT NULL AUTO_INCREMENT,
  `M02CATEGORYID` INT NULL,
  `M06FILEID` INT NULL,
  `CREATEDON` DATETIME NULL,
  `CREATEDBY` VARCHAR(45) NULL,
  `MODIFIEDON` DATETIME NULL,
  `MODIFIEDBY` VARCHAR(45) NULL,
  PRIMARY KEY (`T14CATEGORYFILEID`),
  INDEX `FK_T08_FID_idx` (`M06FILEID` ASC),
  INDEX `FK_T08_M02CATEGORYID_idx` (`M02CATEGORYID` ASC),
  CONSTRAINT `FK_T08_M02CATEGORYID`
    FOREIGN KEY (`M02CATEGORYID`)
    REFERENCES `M02_CATEGORY` (`M02CATEGORYID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_T08_M06FILEID0`
    FOREIGN KEY (`M06FILEID`)
    REFERENCES `M06_FILE` (`M06FILEID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `T15_CHAP_FILE`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `T15_CHAP_FILE` ;

CREATE TABLE IF NOT EXISTS `T15_CHAP_FILE` (
  `T15CHAPFILEID` INT NOT NULL AUTO_INCREMENT,
  `M04CHAPTERID` INT NULL,
  `M06FILEID` INT NULL,
  `CREATEDON` DATETIME NULL,
  `CREATEDBY` VARCHAR(45) NULL,
  `MODIFIEDON` DATETIME NULL,
  `MODIFIEDBY` VARCHAR(45) NULL,
  PRIMARY KEY (`T15CHAPFILEID`),
  INDEX `FK_T08_FID_idx` (`M06FILEID` ASC),
  INDEX `FK_T08_M04CHAPTERID_idx` (`M04CHAPTERID` ASC),
  CONSTRAINT `FK_T08_M04CHAPTERID`
    FOREIGN KEY (`M04CHAPTERID`)
    REFERENCES `M04_CHAPTER` (`M04CHAPTERID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_T08_M06FILEID00`
    FOREIGN KEY (`M06FILEID`)
    REFERENCES `M06_FILE` (`M06FILEID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `M12_QUESTION`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `M12_QUESTION` ;

CREATE TABLE IF NOT EXISTS `M12_QUESTION` (
  `M12QUESTIONID` INT NOT NULL AUTO_INCREMENT,
  `DESCRIPTION` VARCHAR(500) NULL,
  `CREATEDON` DATETIME NULL,
  `CREATEDBY` VARCHAR(45) NULL,
  `MODIFIEDON` DATETIME NULL,
  `MODIFIEDBY` VARCHAR(45) NULL,
  `ACTIVE` TINYINT(1) NULL DEFAULT 1,
  PRIMARY KEY (`M12QUESTIONID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `M13_ANSWER`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `M13_ANSWER` ;

CREATE TABLE IF NOT EXISTS `M13_ANSWER` (
  `M13ANSWERID` INT NOT NULL AUTO_INCREMENT,
  `DESCRIPTION` VARCHAR(500) NULL,
  `CREATEDON` DATETIME NULL,
  `CREATEDBY` VARCHAR(45) NULL,
  `MODIFIEDON` DATETIME NULL,
  `MODIFIEDBY` VARCHAR(45) NULL,
  `ACTIVE` TINYINT(1) NULL DEFAULT 1,
  `TEXTANSWER` VARCHAR(100) NULL COMMENT 'ANSWER IN TEXT FORMAT FOR VALIDIATION',
  PRIMARY KEY (`M13ANSWERID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `T16_QUESTION_ANSWER`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `T16_QUESTION_ANSWER` ;

CREATE TABLE IF NOT EXISTS `T16_QUESTION_ANSWER` (
  `T16QUESTIONANSWERID` INT NOT NULL AUTO_INCREMENT,
  `M12QUESTIONID` INT NULL,
  `M13ANSWERID` INT NULL,
  `DESCRIPTION` VARCHAR(500) NULL,
  `CREATEDON` DATETIME NULL,
  `CREATEDBY` VARCHAR(45) NULL,
  `MODIFIEDON` DATETIME NULL,
  `MODIFIEDBY` VARCHAR(45) NULL,
  PRIMARY KEY (`T16QUESTIONANSWERID`),
  INDEX `FK_T16_M12QUESTIONID_idx` (`M12QUESTIONID` ASC),
  INDEX `FK_T16_M13ANSWERID_idx` (`M13ANSWERID` ASC),
  CONSTRAINT `FK_T16_M12QUESTIONID`
    FOREIGN KEY (`M12QUESTIONID`)
    REFERENCES `M12_QUESTION` (`M12QUESTIONID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_T16_M13ANSWERID`
    FOREIGN KEY (`M13ANSWERID`)
    REFERENCES `M13_ANSWER` (`M13ANSWERID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `T17_QUESTION_FILE`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `T17_QUESTION_FILE` ;

CREATE TABLE IF NOT EXISTS `T17_QUESTION_FILE` (
  `T17QUESTIONFILEID` INT NOT NULL AUTO_INCREMENT,
  `M12QUESTIONID` INT NULL,
  `M06FILEID` INT NULL,
  `CREATEDON` DATETIME NULL,
  `CREATEDBY` VARCHAR(45) NULL,
  `MODIFIEDON` DATETIME NULL,
  `MODIFIEDBY` VARCHAR(45) NULL,
  `DISPLAYORDER` INT NULL,
  `ACTIVE` TINYINT(1) NULL DEFAULT 1,
  PRIMARY KEY (`T17QUESTIONFILEID`),
  INDEX `FK_M12_M06FILEID_idx` (`M06FILEID` ASC),
  INDEX `FK_T17_M12QUESTIONID_idx` (`M12QUESTIONID` ASC),
  CONSTRAINT `FK_T17_M06FILEID`
    FOREIGN KEY (`M06FILEID`)
    REFERENCES `M06_FILE` (`M06FILEID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_T17_M12QUESTIONID`
    FOREIGN KEY (`M12QUESTIONID`)
    REFERENCES `M12_QUESTION` (`M12QUESTIONID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `T18_ANSWER_FILE`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `T18_ANSWER_FILE` ;

CREATE TABLE IF NOT EXISTS `T18_ANSWER_FILE` (
  `T18ANSWERFILEID` INT NOT NULL AUTO_INCREMENT,
  `M13ANSWERID` INT NULL,
  `M06FILEID` INT NULL,
  `CREATEDON` DATETIME NULL,
  `CREATEDBY` VARCHAR(45) NULL,
  `MODIFIEDON` DATETIME NULL,
  `MODIFIEDBY` VARCHAR(45) NULL,
  `DISPLAYORDER` INT NULL,
  `ACTIVE` TINYINT(1) NULL DEFAULT 1,
  `TEXTANSWER` VARCHAR(100) NULL COMMENT 'ANSWER IN TEXT FORMAT FOR VALIDATION',
  PRIMARY KEY (`T18ANSWERFILEID`),
  INDEX `FK_M12_M06FILEID_idx` (`M06FILEID` ASC),
  INDEX `FK_T18_M13ANSWERID_idx` (`M13ANSWERID` ASC),
  CONSTRAINT `FK_T18_M06FILEID`
    FOREIGN KEY (`M06FILEID`)
    REFERENCES `M06_FILE` (`M06FILEID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_T18_M13ANSWERID`
    FOREIGN KEY (`M13ANSWERID`)
    REFERENCES `M13_ANSWER` (`M13ANSWERID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `T19_LESSON_QUESTION`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `T19_LESSON_QUESTION` ;

CREATE TABLE IF NOT EXISTS `T19_LESSON_QUESTION` (
  `T19LESSONQUESTIONID` INT NOT NULL AUTO_INCREMENT,
  `M05LESSONID` INT NULL,
  `M12QUESTIONID` INT NULL,
  `CREATEDON` DATETIME NULL,
  `CREATEDBY` VARCHAR(45) NULL,
  `MODIFIEDON` DATETIME NULL,
  `MODIFIEDBY` VARCHAR(45) NULL,
  PRIMARY KEY (`T19LESSONQUESTIONID`),
  INDEX `FK_T19_M05LESSONID_idx` (`M05LESSONID` ASC),
  INDEX `FK_T19_M12QUESTIONID_idx` (`M12QUESTIONID` ASC),
  CONSTRAINT `FK_T19_M05LESSONID`
    FOREIGN KEY (`M05LESSONID`)
    REFERENCES `M05_LESSON` (`M05LESSONID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_T19_M12QUESTIONID`
    FOREIGN KEY (`M12QUESTIONID`)
    REFERENCES `M12_QUESTION` (`M12QUESTIONID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `T20_USER_LESSON_QUESTION`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `T20_USER_LESSON_QUESTION` ;

CREATE TABLE IF NOT EXISTS `T20_USER_LESSON_QUESTION` (
  `T20USERLESSONQUESTIONID` INT NOT NULL AUTO_INCREMENT,
  `T07USERCATEGORYLEVELCHAPLESSID` INT NULL,
  `T19LESSONQUESTIONID` INT NULL,
  `STRATEDON` DATETIME NULL,
  `COMPLETEDON` DATETIME NULL,
  `SKIPPED` TINYINT(1) NULL DEFAULT 0,
  `GIVENANSWER` VARCHAR(100) NULL COMMENT 'ANSWER GIVEN BY USER',
  `TESTRESULT` TINYINT(1) NULL COMMENT 'ANSWERED CORRECTLY OR NOT',
  `ATTEMPT` INT NULL COMMENT 'NO OF ATTEMPTS',
  PRIMARY KEY (`T20USERLESSONQUESTIONID`),
  INDEX `FK_T20_T07USERCATEGORYLEVELCHAPLESSID_idx` (`T07USERCATEGORYLEVELCHAPLESSID` ASC),
  INDEX `FK_T20_T19LESSONQUESTIONID_idx` (`T19LESSONQUESTIONID` ASC),
  CONSTRAINT `FK_T20_T07USERCATEGORYLEVELCHAPLESSID`
    FOREIGN KEY (`T07USERCATEGORYLEVELCHAPLESSID`)
    REFERENCES `T07_USER_CAT_LEV_CHAP_LESS` (`T07USERCATEGORYLEVELCHAPLESSID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_T20_T19LESSONQUESTIONID`
    FOREIGN KEY (`T19LESSONQUESTIONID`)
    REFERENCES `T19_LESSON_QUESTION` (`T19LESSONQUESTIONID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `M14_LOGIN`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `M14_LOGIN` ;

CREATE TABLE IF NOT EXISTS `M14_LOGIN` (
  `M14LOGINID` INT NOT NULL AUTO_INCREMENT,
  `USERNAME` VARCHAR(45) NOT NULL,
  `PASSWORD` VARCHAR(45) NULL,
  `CREATEDON` DATETIME NULL,
  `CREATEDBY` VARCHAR(45) NULL,
  `MODIFIEDON` DATETIME NULL,
  `MODIFIEDBY` VARCHAR(45) NULL,
  PRIMARY KEY (`M14LOGINID`),
  UNIQUE INDEX `username_UNIQUE` (`USERNAME` ASC),
  UNIQUE INDEX `M14LOGINID_UNIQUE` (`M14LOGINID` ASC))
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
